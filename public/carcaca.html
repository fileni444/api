<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jose Luciano Odontologia</title>

  <!-- FullCalendar CSS -->
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.css" rel="stylesheet">

  <!-- FullCalendar JS -->
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js"></script>

  
  <!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


  <style>
    /* Fontes Personalizadas */
    @font-face {
      font-family: 'EurostileExtended';
      src: url('fonts/eurostile.ttf') format('truetype');
      font-display: swap;
    }
    @font-face {
      font-family: 'Eurostile';
      src: url('fonts/eurostile.ttf') format('truetype');
      font-display: swap;
    }

    /* Corpo */
    body {
      margin: 0;
      padding: 0;
      background-color: #000;
      background-repeat: repeat;
      font-family: 'Eurostile', sans-serif;
      color: #F9F7E9;
      overflow-x: hidden;
    }

    /* Header */
    .header {
      background-image: url('imagem2.png');
  background-size: cover;
  background-position: center;
  padding: 80px 20px 40px 20px;
  text-align: center;
    }

    .header h1 {
      font-family: 'EurostileExtended', sans-serif;
      
      font-size: 48px;
      margin: 0;
      line-height: 1.2;
      color: #F9F7E9; 
      
    }
    .header p {
      font-family: 'Eurostile', sans-serif;
      font-size: 18px;
      margin-top: 10px;
      color: #F9F7E9;  
      font-style: italic;
    }

    .line {
      margin: 30px auto;
      width: 80%;
      max-width: 600px;
      height: 2px;
      background-color: #F9F7E9;
      opacity: 0.8;
    }
    .bottom-line {
      width: 100%;
      height: 2px;
      background-color: #F9F7E9;
      margin: 0;
      opacity: 0.3;
      position: relative;
      top: -60px;
      transform: scaleX(1.5);
    }
    .nav {
      display: flex;
      justify-content: center;
      max-width: 1200px; 
      margin: 0 auto;
      gap: 40px;
      padding-bottom: 20px;
    }

    .nav a {
      text-decoration: none;
      color: #F9F7E9;
      font-family: 'Eurostile', sans-serif;
      font-size: 18px;
      transition: all 0.3s ease;
    }
    .nav a:hover {
      text-decoration: underline;
      color: #0575C8;
      transform: scale(1.05);
    }

    /* Seção de Boas-vindas */
    .welcome-section {
      position: relative;
      background-color: #000;
      height: auto;
      padding: 60px 20px;
      overflow: hidden;
      text-align: center;
    }
    .welcome-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
    }
    .image-container {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .image-container img {
      width: 500px;
      height: auto;
      margin-left: 70%;
      display: block;
    }
    .text-container {
      flex: 1;
      color: #F9F7E9;
      font-family: 'EurostileExtended', sans-serif;
    }
    .text-container h2 {
      font-size: 90px;
      line-height: 1.1;
      margin: 0;
    }
    .text-container p {
      font-family: 'Eurostile', sans-serif;
      font-size: 18px;
      margin-top: 10px;
      color: #F9F7E9;
    }
    .cards-container {
      display: flex;
      gap: 20px;
      justify-content: flex-start;
      flex: 3;
    }

    /* Efeito de linhas de escaneamento (scanlines) */
    @keyframes scanline-animation {
      0% {
        background-position: 0 0;
      }
      100% {
        background-position: 0 100%;
      }
      
    }

    .card {
      background-color: #F9F7E9;
      color: #000000;
      width: 250px;
      padding: 20px;
      height: 500px;
      text-align: center;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
      position: relative;
      overflow: hidden;
      filter: grayscale(30%) contrast(110%) brightness(95%) saturate(130%);
      transition: all 0.3s ease;
    }
    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.2) 0px,
        rgba(0, 0, 0, 0.2) 1px,
        transparent 1px,
        transparent 3px
      );
      pointer-events: none;
      animation: infinite 0.5s;
      z-index: 1;
    }
    .card .card-content {
      position: relative;
      z-index: 2;
      color: #000;
    }
    .card:hover {
      background-color: #F9F7E9;
      transform: translateY(-10px);
      filter: grayscale(30%) contrast(115%) brightness(90%) saturate(140%);
    }
    .card h3 {
      font-size: 24px;
      margin-bottom: 15px;
    }
    .card p {
      font-size: 16px;
    }

    /* divisoria1 */
    .section-divider {
      width: 100%;
      max-width: 100%;
      height: 2px;
      margin: 00px auto;
      background-color: #F9F7E9;
      opacity: 0.7;
      transition: all 0.3s ease;
    }

        /* Seção de Clientes */

    .clientes-section {
      background-color: #000000;
      background-image: url('subtle-carbon.png');
      background-repeat: repeat;
      padding: 60px 20px;
      text-align: center;
      margin-bottom: 0%;
    }
    .clientes-title {
      font-family: 'EurostileExtended', sans-serif;
      font-size: 60px;
      color: #F9F7E9;
      margin-bottom: 30px;
    }
    .adicionar-cliente {
      padding: 40px 20px;
      display: flex;
      justify-content: flex-start;
      align-items: center;
      gap: 60px;
      font-size: 25px;
      text-align: center;
    }
    .adicionar-cliente img {
      width: 400px;
      height: auto;
      cursor: pointer;
      margin-left: 00%;
      transition: transform 0.3s ease;
    }
    .adicionar-cliente img:hover {
      transform: scale(1.1);
    }
    .cards-container {
      display: flex;
      gap: 20px;
    }
    .card-lista-clientes,
    .card-lista-clientes-consultas {
      display: flex;
      flex-direction: column;
      color: #F9F7E9;
      font-family: 'Eurostile', sans-serif;
    }
    .card-lista-clientes h3,
    .card-lista-clientes-consultas h3 {
      margin-bottom: 10px;
      font-size: 20px;
      color: #F9F7E9;
    }

    /* Calendário */
    .calendario-container {
      background-color: #F9F7E9;
      color: #000000;
      padding: 20px;
      border-radius: 8px;
      width: 100%;
      max-width: 600px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
      font-family: 'Eurostile', sans-serif;
      filter: grayscale(30%) contrast(110%) brightness(95%) saturate(130%);
      position: relative;
      overflow: hidden;
    }
    .calendario-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.2) 0px,
        rgba(0, 0, 0, 0.2) 1px,
        transparent 1px,
        transparent 3px
      );
      pointer-events: none;
      animation: scanline-animation 0.5s linear infinite;
      z-index: 1;
    }

    /* Calendário */
    #calendar {
      display: block;
      width: 100%;
      min-height: 500px;
      height: 100%;
    }

        
/* Seção Fornecedores */
.fornecedores-section {
  padding: 40px;
  background-color: #000000;
  background-image: url('subtle-carbon.png');
}

.fornecedores-layout {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: 40px;
}

.coluna-esquerda, .grafico-container {
  flex: 1;
  min-width: 300px;
}

.cards-fornecedores {
  display: flex;
  gap: 20px;
  color: #000;

}

.card-fornecedor {
  background-color: #F9F7E9;
  padding: 20px;
  width: 2000px;
  height: 500px;
  border-radius: 12px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
  transition: transform 0.2s;
  color: #333; / Cor do texto /
  position: relative;
  overflow: hidden;
  filter: contrast(110%) brightness(90%) saturate(150%); / Efeito de saturação e brilho /
  transform: translate3d(0, 0, 0); / Para corrigir alguns efeitos de distorção /
}

/ Animação de scanlines (linhas de escaneamento) /
.card-fornecedor::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.15) 0px,
    rgba(0, 0, 0, 0.15) 1px,
    transparent 1px,
    transparent 3px
  );
  pointer-events: none;
  animation: scanline-animation 0.5s linear infinite;
  z-index: 1;
}

@keyframes scanline-animation {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 0 100%;
  }
}

/ Efeito de hover /
.card-fornecedor:hover {
  transform: translateY(-10px);
  filter: contrast(120%) brightness(85%) saturate(160%); / Aumenta o contraste no hover */
}

.icone-fornecedores-com-texto {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-top: 35px;
  color: #F9F7E9;
  cursor: pointer;
}

.icone-fornecedores-com-texto p {
  margin-top: 8px;
  max-width: 200px;
  text-align: center;
  font-weight: 500;
  font-size: 20px;
  word-break: break-word;

}





/* secao de informacoes */
.informacoes-section {
  background-color: #000000;
  background-image: url('subtle-carbon.png');
  background-repeat: repeat;
  padding: 80px 20px;
  text-align: center;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 40px;
}

/* Título da seção */
.informacoes-title {
  font-family: 'EurostileExtended', sans-serif;
  font-size: 90px;
  color: #F9F7E9;
  text-align: left;
  max-width: 1200px;
  padding-left: 20px;
}

/* Título dentro do .informacoes-title */
.informacoes-title h2 {
  font-family: 'EurostileExtended', sans-serif;
  font-size: 90px;
  margin-bottom: 10px;
}

/* Subtítulo dentro do .informacoes-title */
.informacoes-title p {
  font-size: 20px;
  font-style: italic;
  font-family: 'Eurostile', sans-serif;
  text-align: left;
  margin-top: 10px;
}

/* Card de outros serviços */
.card-outros-servicos {
  background-color: #F9F7E9;
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  padding: 30px;
  width: 100%;
  max-height: 400px;
  height: 400px;
  margin-left: auto;  /* Alinha o card à direita */
  margin-top: 90px;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;  /* Garante que o conteúdo do card fique alinhado no topo */
  position: relative;
  overflow: hidden;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  
}



/* Animação de scanlines (linhas de escaneamento) */
.card-outros-servicos::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.15) 0px,
    rgba(0, 0, 0, 0.15) 1px,
    transparent 1px,
    transparent 3px
  );
  pointer-events: none;
  animation: scanline-animation 0.5s linear infinite;
  z-index: 1;
}

@keyframes scanline-animation {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 0 100%;
  }
}

/* Hover */
.card-outros-servicos:hover {
  transform: scale(1.02);
  box-shadow: 0 0 30px rgb(59, 76, 90);
   transform: translateY(-10px);
  filter: contrast(120%) brightness(95%) saturate(160%); /* Aumenta o contraste no hover */
}

/* Título do card */
.card-outros-servicos h3 {
  font-size: 24px;
  margin-bottom: 20px;
  color: #000000;
}

/* Lista do card */
.card-outros-servicos ul {
  list-style-type: disc;
  padding-left: 20px;
  color: #000000;
}

.card-outros-servicos li {
  margin-bottom: 10px;
  font-size: 16px;
}

/* Seção de Serviços */
.servicos-section {
  background-color: #000000;
  background-image: url('subtle-carbon.png');
  background-repeat: repeat;
    flex-direction: row-reverse; /* Inverte: último vai pra esquerda */

  padding: 80px 20px;
  display: flex;
  justify-content: flex-start; /* alinha os elementos filhos à esquerda */
  align-items: flex-start;
  gap: 40px;
  flex-wrap: wrap; /* garante responsividade em telas menores */
}

/* Título da seção */
.servicos-title {
  font-family: 'EurostileExtended', sans-serif;
  font-size: 90px;
  color: #F9F7E9;
  text-align: right;
  max-width: 600px;
  margin-left: 0; /* remove alinhamento forçado à direita */
}

.servicos-title h2 {
  font-family: 'EurostileExtended', sans-serif;
  font-size: 90px;
  margin-bottom: 10px;
}

.servicos-title p {
  font-size: 20px;
  font-style: italic;
  font-family: 'Eurostile', sans-serif;
  text-align: right;
  margin-top: 10px;
}

/* Container do card */
.container {
  display: flex;
  justify-content: flex-start;
}

/* Card dos serviços */
.card-seus-servicos {
  background-color: #F9F7E9;
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  padding: 30px;
  width: 1040px;
  max-width: 2000px;
  max-height: 400px;
  height: 400px;
  display: block;
  position: relative;
  margin-left: 0;
  margin-right: auto;
  overflow: hidden;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

/* Efeito scanlines */
.card-seus-servicos::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.15) 0px,
    rgba(0, 0, 0, 0.15) 1px,
    transparent 1px,
    transparent 3px
  );
  pointer-events: none;
  animation: scanline-animation 0.5s linear infinite;
  z-index: 1;
}

@keyframes scanline-animation {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 0 100%;
  }
}

/* Hover do card */
.card-seus-servicos:hover {
  transform: translateY(-10px) scale(1.02);
  box-shadow: 0 0 30px rgb(59, 76, 90);
  filter: contrast(120%) brightness(95%) saturate(160%);
}

/* Título do card */
.card-seus-servicos h3 {
  font-size: 24px;
  margin-bottom: 20px;
  color: #000000;
  text-align: center;
}

/* Lista do card */
.card-seus-servicos ul {
  list-style-type: disc;
  padding-left: 20px;
  color: #000000;
  text-align: center;
}

.card-seus-servicos li {
  margin-bottom: 10px;
  font-size: 16px;
  text-align: center;
}

.servicos-acoes {
  margin-top: 350px;
  margin-right: 60px;
  display: flex;
  flex-direction: column;
  gap: 50px;
  text-align: left;
}

.link-servico {
  font-family: 'Eurostile', sans-serif;
  font-size: 18px;
  color: #F9F7E9;
  text-decoration: none;
  position: relative;
  transition: color 0.3s ease;
    font-size: 20px;

}

.link-servico::after {
  content: '';
  position: absolute;
  bottom: -3px;
  left: 0;
  width: 0%;
  height: 2px;
  background-color: #F9F7E9;
  transition: width 0.3s ease;
}

.link-servico:hover {
  color: #ffffff;
}

.link-servico:hover::after {
  width: 100%;
}


  html {
      scroll-behavior: smooth;
    }
  </style>
</head>


<body>
  <!-- Header -->
  <div class="header">
    <h1>JOSE LUCIANO<br>ODONTOLOGIA</h1>
    <p>"Sorria mais, viva mais"</p>
    <div class="line"></div>
    <div class="nav">
      <a href="#clientes">Clientes</a>
      <a href="#fornecedores">Fornecedores</a>
      <a href="#informacoes">Informações</a>
      <a href="#servicos">Serviços</a>
    </div>
  </div>

  <!-- Seção de Bem-vindo -->
  <section class="welcome-section" id="bemvindo">
    <div class="bottom-line"></div>
    <div class="welcome-content">
      <div class="image-container">
        <img src="dente.gif" alt="Dente 3D" />
      </div>
      <div class="text-container">
        <h2>Bem-<br>vindo de<br>volta.</h2>
        <p>o que deseja fazer ?</p>
      </div>
      <div class="cards-container">
        <div class="card">
          <h3>Card 1</h3>
          <p>Informações sobre o card 1.</p>
        </div>
        <div class="card">
          <h3>Card 2</h3>
          <p>Informações sobre o card 2.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Divider 1 -->
  <div class="section-divider"></div>

  <!-- Seção de Clientes -->
  <section class="clientes-section" id="clientes">
    <h2 class="clientes-title">Clientes</h2>

    <div class="adicionar-cliente">
      <div class="icone-com-texto">
        <a href="adicionar-cliente.html">
          <img src="ezgif.com-animated-gif-maker.gif" alt="Adicionar Cliente">
        </a>
        <a href="adicionar-cliente.html" style="text-decoration: none; color: inherit;">
          <p style="cursor: pointer;">Adicionar Cliente</p>
        </a>
      </div>
      <div class="cards-container">
        <div class="calendario-container">
          <h3>Calendário de Consultas</h3>
          <div id="calendar" style="min-height: 500px;"></div>
        </div>
       <!-- Lista de Clientes com Firestore -->
<div class="card-lista-clientes">
  <h3>Lista de Clientes</h3>  
<div class="card" onclick="window.location.href='clientes.html'" style="cursor: pointer;">
  <div id="clientes-lista">Clique para visualizar e editar clientes</div>
</div>

  
</div>
  <div class="card-lista-clientes-consultas">
  <h3>Clientes com Consultas Agendadas</h3>
  <div class="card" id="card-clientes-agendados">
    <p id="clientes-agendados">Nenhum cliente agendado ainda.</p>
  </div>
</div>

  </section>

  <!-- Seção de Fornecedores -->
  <section class="fornecedores-section" id="fornecedores">
    <h2>FORNECEDORES</h2>

      <!-- Coluna Esquerda: Cards + Ícone -->
     <div class="coluna-esquerda">
  <div class="cards-fornecedores">

 <a href="dental-prime.html" class="card-fornecedor">
  <h3>DENTAL PRIME</h3>
  <ul id="lista-dental-prime"></ul>
</a>


    <a href="Odonto-Supreme.html" class="card-fornecedor">
      <h3>ODONTO SUPREME</h3>
      <ul id="lista-odonto-supreme"></ul>
    </a>

    <a href="Sorriso-Total.html" class="card-fornecedor">
      <h3>SORRISO TOTAL</h3>
      <ul id="lista-sorriso-total"></ul>
    </a>

  </div>
</div>

      <!-- Coluna Direita: Gráfico -->
      <div class="grafico-container">
        <canvas id="graficoFornecedores"></canvas>
      </div>
    </div>
  </section>

  <!-- Seção de Informações -->
 
<section class="informacoes-section" id="informacoes">
  <div class="informacoes-title">
    <h2>Infor<br>ma<br>ções</h2>
    <p>Verifique as informações de outros profissionais</p>
  </div>

  <div class="card-outros-servicos">
    <h3>Outros Serviços</h3>
    <div id="lista-informacoes">
      <!-- Dados dinâmicos vão aparecer aqui -->
    </div>
  </div>
</section>


  <!-- Seção de Serviços -->
  <section class="servicos-section" id="servicos">
    <div class="servicos-title">
      <h2>Seus<br>Serviços</h2>
      <p>Adicione ou veja seus serviços</p>
    </div>

    <div class="container">
      <div class="card-seus-servicos">
        <h3>Seus Serviços</h3>
        <ul id="lista-servicos"></ul>
      </div>
    </div>

    <div class="servicos-acoes">
      <a href="adicionar-servico.html" style="text-decoration: none; color: inherit; font-size: 25px;">
        <p style="cursor: pointer;">Adicionar Serviço</p>
      </a>
    </div>
  </section>






  <!-- Footer -->
  <footer style="background-color: #000; color: #F9F7E9; text-align: center; padding: 30px 20px; font-size: 14px;">
    <p>&copy; 2025 Jose Luciano Odontologia. Todos os direitos reservados.</p>
  </footer>

    <!-- =script do callendarjs -->

    
<script type="module">

//script para exibir servicos

document.addEventListener('DOMContentLoaded', () => {
    fetch('http://localhost:4040/servicos-lista')
      .then(response => response.json())
      .then(data => {
        const lista = document.getElementById('lista-servicos');

        data.forEach(servico => {
          const li = document.createElement('li');
          li.textContent = `${servico.nome} - R$ ${parseFloat(servico.preco).toFixed(2)}`;
          lista.appendChild(li);
        });
      })
      .catch(error => {
        console.error('Erro ao carregar serviços:', error);
      });
  });


//script de exibir informacoes


 fetch('http://localhost:4040/servicos-dentistas')
    .then(response => response.json())
    .then(data => {
      const lista = document.getElementById('lista-informacoes');
      lista.innerHTML = ''; // limpa antes

      data.forEach(item => {
        const li = document.createElement('li');
        li.textContent = `${item.dentista} — ${item.servico} — R$ ${parseFloat(item.preco).toFixed(2)}`;
        lista.appendChild(li);
      });
    })
    .catch(error => {
      console.error('Erro ao carregar informações:', error);
    });
 async function carregarInformacoes() {
    try {
      const res = await fetch('http://localhost:4040/servicos-dentistas');
      const dados = await res.json();

      const container = document.getElementById('lista-informacoes');

      if (!dados.length) {
        container.innerHTML = "<p>Nenhum serviço encontrado.</p>";
        return;
      }

      const lista = document.createElement('ul');
      dados.forEach((item) => {
        const li = document.createElement('li');
        li.textContent = `${item.dentista} - ${item.servico}: R$ ${parseFloat(item.preco).toFixed(2)}`;
        lista.appendChild(li);
      });

      container.appendChild(lista);
    } catch (error) {
      console.error('Erro ao carregar informações:', error);
      document.getElementById('lista-informacoes').innerHTML = "<p>Erro ao carregar dados.</p>";
    }
  }

  document.addEventListener('DOMContentLoaded', carregarInformacoes);

      //script do calndar.js

  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAJ25CT4YUp-T2MGkmv5yikSBDjBSvsy2A",
    authDomain: "clientes-f4090.firebaseapp.com",
    projectId: "clientes-f4090",
    storageBucket: "clientes-f4090.firebasestorage.app",
    messagingSenderId: "531002842563",
    appId: "1:531002842563:web:0e24dfafb872d8553f7176"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  let listaClientes = [];

  async function carregarClientes() {
    try {
      const querySnapshot = await getDocs(collection(db, "clientes"));
      listaClientes = querySnapshot.docs.map(doc => doc.data().nome);
    } catch (error) {
      console.error("Erro ao carregar clientes:", error);
    }
  }

  document.addEventListener('DOMContentLoaded', async function () {
    await carregarClientes(); // Carrega a lista de clientes antes de iniciar o calendário

    const calendarEl = document.getElementById('calendar');

    const calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      locale: 'pt-br',
      height: 'auto',
      buttonText: {
        today: 'Hoje'
      },
      events: [],
      dateClick: function(info) {
        if (listaClientes.length === 0) {
          alert("Nenhum cliente cadastrado.");
          return;
        }

        const nomeSelecionado = prompt(
          `Digite o nome do cliente para agendar em ${info.dateStr}:\n\n${listaClientes.join('\n')}`
        );

        if (nomeSelecionado && listaClientes.includes(nomeSelecionado)) {
      calendar.addEvent({
  title: nomeSelecionado,
  start: info.dateStr
});
clientesAgendados.add(nomeSelecionado);
atualizarCardAgendados();

        } else if (nomeSelecionado) {
          alert("Cliente não encontrado. Verifique o nome digitado.");
        }
      },
      eventClick: function(info) {
        const action = prompt("Digite 'editar' para editar ou 'apagar' para excluir a consulta:");
        if (action === 'editar') {
          const novoNome = prompt("Novo nome do cliente:", info.event.title);
          if (novoNome && novoNome.trim() !== '') {
            info.event.setProp('title', novoNome);
          }
        } else if (action === 'apagar') {
          if (confirm("Tem certeza que deseja excluir esta consulta?")) {
            info.event.remove();
          }
        }
      }
    });

    calendar.render();
  });

  const clientesAgendados = new Set();

function atualizarCardAgendados() {
  const container = document.getElementById('clientes-agendados');
  container.innerHTML = '';

  if (clientesAgendados.size === 0) {
    container.innerHTML = 'Nenhum cliente agendado ainda.';
    return;
  }

  clientesAgendados.forEach(nome => {
    container.innerHTML += `${nome}<br>`;
  });
}

</script>


  <!-- Script do gráfico -->

 <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Simulação de dados dinâmicos (poderiam vir de um input, fetch, etc.)
    const fornecedores = ['Fornecedor A', 'Fornecedor B', 'Fornecedor C'];
    const precos = [100, 150, 90];

    const canvas = document.getElementById('graficoFornecedores');
    if (!canvas) return;

    const ctx = canvas.getContext('2d');
    new Chart(ctx, {
      type: 'line',
      data: {
        labels: fornecedores,
        datasets: [{
          label: 'Preço Médio (R$)',
          data: precos,
          backgroundColor: 'rgba(255, 255, 255, 0.2)',
          borderColor: '#F9F7E9',
          borderWidth: 2,
          pointBackgroundColor: '#F9F7E9'
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            labels: {
              color: '#F9F7E9'
            }
          }
        },
        scales: {
          x: {
            ticks: { color: '#F9F7E9' }
          },
          y: {
            ticks: { color: '#F9F7E9' }
          }
        }
      }
    });
  });
  </script>


<!-- Firebase SDK para leitura -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAJ25CT4YUp-T2MGkmv5yikSBDjBSvsy2A",
    authDomain: "clientes-f4090.firebaseapp.com",
    projectId: "clientes-f4090",
    storageBucket: "clientes-f4090.firebasestorage.app",
    messagingSenderId: "531002842563",
    appId: "1:531002842563:web:0e24dfafb872d8553f7176"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  const lista = document.getElementById("clientes-lista");

  async function carregarClientes() {
    try {
      const querySnapshot = await getDocs(collection(db, "clientes"));
      if (querySnapshot.empty) {
        lista.innerHTML = "<p>Nenhum cliente cadastrado.</p>";
        return;
      }
      lista.innerHTML = "";
      querySnapshot.forEach((docSnap) => {
        const nome = docSnap.data().nome;
        lista.innerHTML += `<p>${nome}</p>`;
      });
    } catch (error) {
      lista.innerHTML = "<p>Erro ao carregar clientes.</p>";
      console.error(error);
    }
  }

  carregarClientes();
</script>

<script>
  async function carregarProdutosFornecedores() {
    try {
      const resposta = await fetch('http://localhost:4040/fornecedores-produtos');
      const dados = await resposta.json();

      const cards = document.querySelectorAll('.card-fornecedor');

      dados.forEach(fornecedor => {
        cards.forEach(card => {
          if (card.querySelector('h3').textContent.trim().toUpperCase() === fornecedor.nome.trim().toUpperCase()) {
            const ul = card.querySelector('ul');
            const li = document.createElement('li');
            li.textContent = `${fornecedor.produtos}: R$ ${parseFloat(fornecedor.precos).toFixed(2)}`;
            ul.appendChild(li);
          }
        });
      });

    } catch (erro) {
      console.error('Erro ao carregar produtos dos fornecedores:', erro);
    }
  }

  carregarProdutosFornecedores();
</script>

<script>
  const fornecedores = [
    { nome: 'DENTAL PRIME', ulId: 'lista-dental-prime' },
    { nome: 'ODONTO SUPREME', ulId: 'lista-odonto-supreme' },
    { nome: 'SORRISO TOTAL', ulId: 'lista-sorriso-total' }
  ];

  async function carregarProdutosTodos() {
    for (const fornecedor of fornecedores) {
      try {
        const res = await fetch(`http://localhost:4040/fornecedores/${encodeURIComponent(fornecedor.nome)}`);
        const dados = await res.json();
        const ul = document.getElementById(fornecedor.ulId);
        if (!ul) continue;
        ul.innerHTML = '';
        dados.forEach(item => {
          const li = document.createElement('li');
          li.textContent = `${item.produtos}: R$ ${parseFloat(item.precos).toFixed(2)}`;
          ul.appendChild(li);
        });
      } catch (err) {
        console.error(`Erro ao carregar produtos de ${fornecedor.nome}:`, err);
      }
    }
  }

  carregarProdutosTodos();
</script>

</script>
</body>
</html>

